# 32. 열에 있는 값을 행으로 내리는 방법

머신러닝은 각 열에 특성이 있는것이 좋음

→ 특성이 없는 열은 행으로 내리기

---

### melt : 지정한 열의 데이터를 모두 행으로 내려주는 기능

```python
pd.melt(df,id_vars = “고정할 열”)
```

- id_vars: 고정할열
- var_name: 위치를 변경한 열의 새 행 이름
- value_name: 위치를 변경한 열의 데이터를 저장할 새로운 열의 이름

```python
import pandas as pd
df = pd.read_csv("pew.csv")
df
```

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e4a346b4-52b1-46d9-9e32-59ae502c6017/Untitled.png)

```python
pd.melt(df, id_vars = 'religion', var_name="income", value_name='count')
```

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f82fc5fd-4bf8-4e96-b8be-4a0201b554db/Untitled.png)

---

### 열 분할하기

- 분할 : 시리즈.str.split(기준)
- 수집 : 시리즈.str[인덱스]

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e3dfb2a6-8920-4186-8af9-d0f48c44c4ff/Untitled.png)

```python
ebola2 = pd.melt(ebola, id_vars=["Date",'Day'])
ebola2
```

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a70aa3e1-64d8-47bc-9e5c-2c8a1467e307/Untitled.png)

```python
ebola_split = ebola2['variable'].str.split("_")

state=ebola_split.str[0]
country=ebola_split.str[1]

ebola2['State']=state
ebola2['Country']=country

del ebola2['variable']
ebola2
```

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/75db8ce8-4e72-4d0e-9773-2ac89d413480/Untitled.png)

---

[Google Colaboratory](https://colab.research.google.com/drive/1HhndyWQF3HwaNNzGSJk-k7EKPEOs_l3F?usp=sharing)<br>
[Notion](https://determined-fan-807.notion.site/32-65065a05a42c443388f446bee4f12d66)
